# 戴森球计划种子搜索&查看器

## 搜索器特点

- 搜索条件更加精细：本搜索器的条件分为星系、恒星、星球三级，支持随意组合，定制化筛选星球级别矿簇数、词条等内容
- 搜索效率更高：种子搜索部分使用运行效率更高的c++编写，单线程速度是[DspFindSeed](https://github.com/Xinyuell/DspFindSeed)的20多倍（使用寻找3个蓝巨星的种子进行测试）
- 支持多进程：允许自由设置搜索的进程数，无需多开即可充分利用cpu性能
- 允许导入种子列表进行二次搜索

![image](/assets/show_search.png)

## 查看器特点

- 内置UI显示种子信息：允许手动或批量导入种子，点击即可切换，导入格式与[DspFindSeed](https://github.com/Xinyuell/DspFindSeed)的搜种结果兼容
- 支持种子排序：允许根据恒星类型、星球类型、矿物数量等对种子进行排序，并展示相应的排序值
- 允许自定义排序值：[自定义排序](/GUI/seed_viewer/sort_seed/custom_sort.py)中提供了现成的接口，可以方便的编写python代码判定种子的价值，用于排序

![image](/assets/show_check.png)

## 使用说明&注意事项

- 进程安全：建议停止搜索/排序后再退出应用，视批大小有一定的时间延迟，若遇到孤儿进程请使用任务管理器手动结束
- 批大小：在搜索`32~64`星时，建议`≤256`；搜索`单个恒星数量`时，建议`≥1024`。过大的批大小会显著增加停止搜索的响应延迟，过小的批大小会带来额外的性能损耗，建议控制每秒完成的batch数量在进程数的`1~5`倍之间
- 进程数：最高可设置为128进程，但实际的进程数量不会超过cpu核心数
- 条件关系：星球条件可被设定为星系或恒星条件的子条件，恒星条件为星系条件的子条件。恒星条件需满足自身及其所有子条件才被判断为满足，星系条件同理。满足星系条件的种子将判定为合格并被记录
- 启用停用条件：条件的勾选仅控制自身是否生效，不连锁至其子条件
- 矿物数量：本搜索器的矿物数量指矿簇数量，对应游戏中集中的一片矿脉，目前无法获取每个矿簇具体对应的矿脉数量；部分矿簇可因地形限制未生成，也可因游戏的随机波动机制而产生`±1`偏差
- 条件优化：对于未设置的条件，搜索时会自动跳过以提高性能，建议不要设置任何多余条件
- 特殊条件：在星球类型筛选时，高产气巨可被视为气态巨星，但气态巨星不会被视为高产气巨
- 存储格式：为`.csv`文件，每行为一个种子，`种子id, 恒星数量`，与[DspFindSeed](https://github.com/Xinyuell/DspFindSeed)兼容
- 种子信息查看：导入种子上限为`10万`个，有去重功能

## 支持的搜索条件

- 星系级：
  - 14种矿簇最低数量：一个种子最高24簇单极磁石
- 恒星级：
  - 恒星类型
  - 最低光照
  - 最远距离：输入0表示初始恒星系
  - 符合数量：需要满足该条件的恒星/恒星系数量
  - 14种矿簇最低数量：单极磁石仅在中子星和黑洞出现
- 星球级：
  - 星球类型：有且仅有初始星球为地中海类型
  - 星球特点：即星球词条，其中多卫星词条只出现在气态行星（气态巨星、冰巨星、高产气巨），卫星词条不会出现在气态行星
  - 液体
  - 全包星：不使用透镜时全球可接收，一个星系最多只有一个全包星
  - 全接收星：使用透镜时全球可接收，一个星系最多只有两个全接收星
  - 符合数量：需要满足该条件的行星数量
  - 14种矿簇最低数量

## 特别感谢

以下仓库在本项目开发过程中提供了或多或少的帮助, 特此感谢!

- [dspseedsearch](https://github.com/crazyyao0/dspseedsearch)
- [DspFindSeed](https://github.com/Xinyuell/DspFindSeed)
- [PyQt-Fluent-Widgets](https://github.com/zhiyiYo/PyQt-Fluent-Widgets)
- [AhabAssistantLimbusCompany](https://github.com/KIYI671/AhabAssistantLimbusCompany)
